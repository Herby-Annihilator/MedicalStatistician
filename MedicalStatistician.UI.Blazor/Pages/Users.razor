@page "/users"

<MedicalStatistician.UI.Blazor.Modal.ModalAddUser @ref=Modal></MedicalStatistician.UI.Blazor.Modal.ModalAddUser>

<PageTitle>Мед статистик</PageTitle>

<h3 class="text-center">Мед. статисты</h3>
<p style="height:20px"></p>
<p class="object-right">
    <button class="btn btn-primary" @onclick=Add>Добавить</button> <!--Исправить позже-->
</p>

<div class="table-responsive">       
    <section>
        <table class="table table-striped" cellspacing="0" cellpadding="0">
        
            <thead class="thead-light text-center">
                <tr>
                    <th>Фамилия</th>
                    <th>Имя</th>
                    <th>Отчество</th>
                    <th>Логин</th>
                    <th colspan="2"></th>
                </tr>         
            </thead>
            <tbody>
                @for (int i = 0; i < size; i++)
                { 
                    <tr class="object-table">
                        <td><input class=object-table-input/></td>
                        <td><input class=object-table-input/></td>
                        <td><input class=object-table-input/></td>
                        <td><input class=object-table-input/></td>
                        <td class="table-button"><button class="btn btn-primary oi oi-pencil" @onclick="() => Modal.Open()"></button></td>
                        <td class="table-button"><button class="btn btn-primary oi oi-delete" @onclick=Sub></button></td>
                    </tr>
                }
            </tbody>
        
        </table>
    </section>
</div>

@code
{
    MedicalStatistician.UI.Blazor.Modal.ModalAddUser Modal { get; set; }
    int size = 2;
    //!!! todo вылетает с ошибками
    void Add() => size++;

    void Sub() => size--;
}

