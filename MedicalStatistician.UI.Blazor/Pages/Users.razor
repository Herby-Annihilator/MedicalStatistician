@page "/users"

<MedicalStatistician.UI.Blazor.Modal.ModalAddUser @ref=Modal></MedicalStatistician.UI.Blazor.Modal.ModalAddUser>

<PageTitle>Мед статистик</PageTitle>

<h3 style="text-align:center;">Мед. статисты</h3>
<p style="height:20px"></p>

<div class="table-responsive">
        <div style="text-align:right">
            <button class="btn btn-primary" @onclick=Add>Добавить</button>
        </div>   

    <section>
        <table class="table table-striped" cellspacing="0" cellpadding="0">
        
            <thead class="thead-light" style="text-align:center">
                <tr>
                    <th>Фамилия</th>
                    <th>Имя</th>
                    <th>Отчество</th>
                    <th>Логин</th>
                    <th colspan="2"></th>
                </tr>         
            </thead>
            <tbody>
                <!--Вставил style т.к. импорт из css не работает-->
                @for (int i = 0; i < size; i++)
                { 
                    <tr style="width:100%; height:100%;">
                        <td><input class=object-table/></td>
                        <td><input class=object-table/></td>
                        <td><input class=object-table/></td>
                        <td><input class=object-table/></td>
                        <td style="padding:0px"><button class="btn btn-primary oi oi-pencil" @onclick="() => Modal.Open()"></button></td>
                        <td style="padding:0px"><button class="btn btn-primary oi oi-delete" @onclick=Sub></button></td>
                    </tr>
                }
            </tbody>
        
        </table>
    </section>
</div>

@code
{
    MedicalStatistician.UI.Blazor.Modal.ModalAddUser Modal { get; set; }
    int size = 2;
    //!!! todo вылетает с ошибками
    void Add() 
    {
        size++; 
    }
    void Sub() { size--; }
}

